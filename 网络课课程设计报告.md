<center><h1>《局域网技术》课程设计报告</h1></center>
## 题目   
**中小型企业局域网解决方案设计**

## 研究课题（要解决的问题） ##
1. 目前企业对网络的需求
2. 目前中小型企业网的最新架构和技术是什么？
3. 中小型局域网如何设计（包括目标企业假设，需求分析，以及设计环节）

## 一、目前企业对网络的需求
　　为适应企业信息化的发展，满足日益增长的通信需求和网络的稳定运行，今天的企业网络建设比传统企业网络建设有更高的要求，主要表现在如下几个方面：  

##### １．带宽性能需求 #####

　　现代企业网络应具有更高的带宽，更强大的性能，以满足用户日益增长的通信需求。随着计算机技术的高速发展，基于网络的各种应用日益增多，今天的企业网络已经发展成为一个多业务承载平台。不仅要继续承载企业的办公自动化，Web浏览等简单的数据业务，还要承载涉及企业生产运营的各种业务应用系统数据，以及带宽和时延都要求很高的IP电话、视频会议等多媒体业务。因此，数据流量将大大增加，尤其是对核心网络的数据交换能力提出了前所未有的要求。另外，随着千兆位端口成本的持续下降，千兆位到桌面的应用会在不久的将来成为企业网的主流。从2004年全球交换机市场分析可以看到，增长最迅速的就是10 Gbps级别机箱式交换机，可见，万兆位的大规模应用已经真正开始。所以，今天的企业网络已经不能再用百兆位到桌面千兆位骨干来作为建网的标准，核心层及骨干层必须具有万兆位级带宽和处理性能，才能构筑一个畅通无阻的\高品质\企业网，从而适应网络规模扩大，业务量日益增长的需要。
##### 2．稳定可靠需求 #####

　　现代企业的网络应具有更全面的可靠性设计，以实现网络通信的实时畅通，保障企业生产运营的正常进行。随着企业各种业务应用逐渐转移到计算机网络上来，网络通信的无中断运行已经成为保证企业正常生产运营的关键。现代大型企业网络在可靠性设计方面主要应从以下3个方面考虑。

　　1、设备的可靠性设计：不仅要考察网络设备是否实现了关键部件的冗余备份，还要从网络设备整体设计架构、处理引擎种类等多方面去考察。

　　2、业务的可靠性设计：网络设备在故障倒换过程中，是否对业务的正常运行有影响。 3、链路的可靠性设计：以太网的链路安全来自于多路径选择，所以在企业网络建设时，要考虑网络设备是否能够提供有效的链路自愈手段，以及快速重路由协议的支持。

##### 3．网络安全需求 #####

　　现代大型企业网络应提供更完善的网络安全解决方案，以阻击病毒和黑客的攻击，减少企业的经济损失。传统企业网络的安全措施主要是通过部署防火墙、IDS、杀毒软件，以及配合交换机或路由器的ACL来实现对病毒和黑客攻击的防御，但实践证明这些被动的防御措施并不能有效地解决企业网络的安全问题。在企业网络已经成为公司生产运营的重要组成部分的今天，现代企业网络必须要有一整套从用户接入控制，病毒报文识别到主动抑制的一系列安全控制手段，这样才能有效地保证企业网络的稳定运行。

##### 4．应用服务需求 #####
　　现代大型企业网络应具备更智能的网络管理解决方案，以适应网络规模日益扩大，维护工作更加复杂的需要。当前的网络已经发展成为\以应用为中心\的信息基础平台，网络管理能力的要求已经上升到了业务层次，传统的网络设备的智能已经不能有效支持网络管理需求的发展。比如，网络调试期间最消耗人力与物力的线缆故障定位工作，网络运行期间对不同用户

　　灵活的服务策略部署、访问权限控制、以及网络日志审计和病毒控制能力等方面的管理工作，由于受网络设备功能本身的限制，都还属于费时、费力的任务。所以现代的大型企业网络迫切需要网络设备具备支撑\以应用为中心\的智能网络运营维护的能力，并能够有一套智能化的管理软件，将网络管理人员从繁重的工作中解脱出来。
## 二、目前中小型企业网的最新架构和技术 
##### 1．云计算架构 #####
　　一般来说，目前大家比较公认的云架构是划分为基础设施层、平台层和软件服务层三个层次的。对应名称为IaaS，PaaS和SaaS。IaaS, Infrastructure as a Service，中文名为基础设施即服务。如下图所示：
  
![avatar](/f9198618367adab47472e22c8fd4b31c8701e43b.jpg)

　　1.IaaS主要包括计算机服务器、通信设备、存储设备等，能够按需向用户提供的计算能力、存储能力或网络能力等IT基础设施类服务，也就是能在基础设施层面提供的服务。今天IaaS能够得到成熟应用的核心在于虚拟化技术，通过虚拟化技术可以将形形色色计算设备统一虚拟化为虚拟资源池中的计算资源，将存储设备统一虚拟化为虚拟资源池中的存储资源，将网络设备统一虚拟化为虚拟资源池中的网络资源。当用户订购这些资源时，数据中心管理者直接将订购的份额打包提供给用户，从而实现了IaaS。  

　　2.PaaS, Platform as a Service，中文名为平台即服务。如果以传统计算机架构中“硬件+操作系统/开发工具+应用软件”的观点来看待，那么云计算的平台层应该提供类似操作系统和开发工具的功能。实际上也的确如此，PaaS定位于通过互联网为用户提供一整套开发、运行和运营应用软件的支撑平台。就像在个人计算机软件开发模式下，程序员可能会在一台装有Windows或Linux操作系统的计算机上使用开发工具开发并部署应用软件一样。微软公司的Windows Azure和谷歌公司的GAE，可以算是目前PaaS平台中最为知名的两个产品了。  

　　3.SaaS，软件即服务。简单地说，就是一种通过互联网提供软件服务的软件应用模式。在这种模式下，用户不需要再花费大量投资用于硬件、软件和开发团队的建设，只需要支付一定的租赁费用，就可以通过互联网享受到相应的服务，而且整个系统的维护也由厂商负责。

##### 2．华为智简网络 #####

![avatar](/1528795751(1).jpg)

  面向金融行业，华为智简网络解决方案可以帮助金融客户打造超大规模的云数据中心网络，并基于业务意图驱动自动完成网络设计，快速实现业务的上线和商业变现，单套数据中心网络集群系统的管理规模可弹性扩展到10万台服务器。同时，通过大数据分析和机器自学习建立网络行为模型，实现应用、网络及IT资源的统一可视，帮助客户实现分钟级的故障定位和修复，从而提供7×24小时不间断的、高可靠金融服务保障，使能数据中心成为商业价值中心，为金融等客户创造更多商业价值。

  在互联网创新业务领域，高性能AI计算对网络提出了超低时延和零丢包的需求，但目前新业务的快速上市需求与现有网络的支撑能力存在较大差距，华为智简网络解决方案创新地提出无损以太网AI Fabric，基于独特的拥塞调度算法，缩短40%的AI训练时间，并降低53%的TCO（总拥有成本），帮助互联网企业实现新业务应用的快速创新。 

  面向政府和企业的园区办公网络，华为智简网络解决方案通过全生命周期的云化管理和开放平台，不仅可以实现园区网络的在线规划、快速部署、弹性扩缩、按需开通，而且通过大数据分析和人工智能大幅提升整网用户的上网体验，从传统以设备为中心的运维转为以用户体验为中心的主动运维模式，为VIP用户提供更高品质、安全的网络体验保障。

  针对零售行业，华为智简网络解决方案以业务为中心，通过Wi-Fi & IoT融合接入技术，实现了Wi-Fi网络 + 物联网络的全无线融合承载，帮助零售企业为场所用户提供更加便捷的购买服务体验，同时，联合行业合作伙伴共同打造面向商业的精细化营销方案，帮助零售客户更好地了解自己的用户和场所，基于用户潜在兴趣进行精准营销，提高用户的忠诚度，增加收入。

  华为智简网络解决方案将基于智慧、极简、超宽、开放、安全等核心理念，逐步发布适配更多行业需求的场景化解决方案，携手合作伙伴深入推动智简网络在行业市场的全面落地，致力于将数字世界带入每个人、每个家庭、每个组织，构建万物互联的智能世界。

## 三、设计中小型局域网 ##

### 1．目标企业 ###
<font size="5"><strong>本次局域网组建方案针对学院单位，目标在于设计并组建学院的校园网络</strong></font>，以<font color="blue" size="5"><strong>深职院</strong></font>为例子，深圳职业技术学院是广东深圳市人民政府举办的一所专科层次全日制普通高等学校，它共有留仙洞、西丽湖、官龙山、华侨城、凤凰山五个校区，校园总面积236.02万平方米，校舍建筑面积58.84万平方米有在编在岗教职员工2294人，普通全日制在校生23000余人。
### 2.需求体现方面 ###
(1)教学方面：需要可以利用多媒体、网络技术实现高质量的教学资源、信息资源和智力资源共享和传播。利用网络技术辅助教学上课需求。  
(2)科研方面：促进科研资源和设备共享，加快科研信息传播，促进院内外学术交流。  
(3)管理方面：需要可以利用信息技术实现职能信息管理的自动化，如对学院教师的招聘，管理，职称评定等（可以简单理/解为使用网络的WEB服务来高效管理学院教职工与学生），同时包括学生的日常、成绩等等方面的管理。  
(4)公共服务方面：  
　　A.需要提供面向全校师生的基本网络服务（也就是现在这个覆盖全校的无线WiFi--SZPT-WLAN）。  
　　B.需要利用网络技术建设高质量的数字化图书馆等应用信息资源库。  
　　C.WEB服务，即学校官网、教务系统（选课等等）、SIC等通用的WEB服务  
　　D.办公室内小型局域网的服务，在办公室内需要组建各个机器与打印机和其他机器的关联，方便教师办公  
### 3.需求分析 ###
(1)要求满足在(一)中描写的四项需求，分别是：带宽性能需求、稳定可靠需求、网络安全需求、应用服务需求  
(2)要求网络设备必须采用成熟先进的技术，所采用的标准要求统一，支持目前业界广泛采用的网络协议，网络布线符合国家标准。  
(3)校园网主干为10Gbps，100Mbps交换到桌面。建筑物之间使用光钎，建筑物内部使用超五类双绞线（非屏蔽）。--满足带宽性能需求  
(4)网络设备要求提供足够的带宽处理能力，要求支持虚拟局域网(VLAN)和第三层交换，形成分布式三层交换网。  --满足稳定可靠需求  
补充说明：  
　　VLAN：vlan是指在物理网络基础架构上，利用交换机和路由器的功能，配置网络的逻辑拓扑结构，从而允许网络管理员任意地将一个局域网内的任何数量网段聚合成一个用户组，就好像它们是一个单独的局域网  
　　三层交换机：即具有部分路由功能的交换机，被称之为三层交换机  
　　分布式三层交换网：分布式三层网络提供基于二层交换技术的智能网管和三层各种协议的路由选择，从而满足各种高级的网络应用需求    
(5)要求网络设备具有可扩展性和可升级性，能够适应用户数量的扩展，能够保证未来网络升级的平稳衔接，保证网络通信介质、网络基本设计核心的向后兼容性  
(6)要求网络具有较高的安全性。	--满足网络安全需求  
(7)要满足常规的WWW服务、FTP服务、E-mail服务、等功能。	--满足应用服务需求
### 4.网络规划（拓扑结构分析） ###
拓扑结构采用星形拓扑结构，同时，使用三层网络结构来层次化的对复杂网络进行简化。  
补充说明：  
　　星形拓扑结构：在局域网中，使用最多的是星形结构。它是一种以中央节点为中心，把若干外围节点连接起来的辐射式互联结构。  
　　三层网络结构：三层网络架构采用层次化模型设计，即将复杂的网络设计分成几个层次，每个层次着重于某些特定的功能，这样就能够使一个复杂的大问题变成许多简单的小问题。三层网络架构设计的网络有三个层次：核心层（网络的高速交换主干）、汇聚层（提供基于策略的连接）、接入层 （将工作站接入网络）。  
拓扑结构如图所示：
  
![avatar](/1529256414(1).jpg)


#### A.接入层设计 ####
(1)在教学楼中，每层组建一个虚拟局域网，连接到一台二层交换机上。每栋教学楼上连至汇聚层交换机。  
(2)行政楼按不同的科室组建虚拟局域网（每层楼都组成一个VLAN），连到核心交换机上（中心交换机）。  
(3)图书馆同样是每层建一个虚拟局域网。  
(4)信息楼每个教室各自组成一个局域网，同时整个信息楼组成一个虚拟局域网(Vlan)  
#### B.汇聚层设计 ####
汇聚层按教学楼、学生宿舍楼分布进行配置。例如，为教学楼中每层楼或电脑教室配置不同的虚拟局域网，汇聚层为不同的虚拟局域网之间选择路由，使得他们既能相互通信，也能防止广播风暴，还可以进行相互间的访问控制。同时，汇聚层对所有的虚拟局域网所使用的私有IP地址都能进行地址转换，使局域网中的每台计算机都能转换成合法的外网IP地址，以此来访问外部网络。
#### C.核心层设计 ####
核心层位于全校的网络中心，将一台三层交换机与一组三层交换机通过聚合链路互联，以达到冗余的目的。应用服务器、资源管理服务器、图书馆服务器、教学用服务器均通过千兆网卡与一台三层交换机互联。
### 5.最终需要完成的功能 ###
(1)Web服务  
(2)FTP服务  
(3)E-mail服务  
(4)覆盖全校的无线WiFi
### 6.交换机配置 ###
先简单介绍几个概念：  
　　广播域：当交换机接受到一个广播帧或者MAC地址表没有目的MAC地址的端口映射时，该数据帧会被转发到所有端口。广播域指的就是本地广播包所能到达的一个网络范围。  
　　VLAN：随着网络规模的扩大，网络内的主机数量会不断激增，如果是一个局域网的话，他们都属于一个广播域，这个时候，网络的利用率就会大大下降，这个时候，要对交换机进行配置，人为的隔离广播域，也就是利用VLAN技术，将一个大的物理局域网划分为好几个逻辑上的局域网，使得在交换机进行广播的时候，不用将数据包发送到该物理局域网上所有主机上。  
　　IP地址：IP地址被用来给Internet上的电脑一个编号。大家日常见到的情况是每台联网的PC上都需要有IP地址，才能正常通信。  
　　子网掩码：用于区分IP地址上的网络号以及主机号，举个例子，ip地址为192.168.1.1，子网掩码为255.255.255.0，将他们转换为二进制，则ip地址和子网掩码为：  
　　11000000.10101000.00000001.00000001  
　　11111111.11111111.11111111.00000000  
　　则网络号为11000000.10101000.00000001，主机号为00000001。  
　　网关：网关实质上是一个网络通向其他网络的IP地址。如果网络A中的主机发现数据包的目的主机不在本地网络中，就把数据包转发给它自己的网关，再由网关转发给网络B的网关，网络B的网关再转发给网络B的某个主机。  
　　默认网关：默认网关的意思是一台主机如果找不到可用的网关，就把数据包发给默认指定的网关，由这个网关来处理数据包。  

#### 了解了这些之后，就开始正式配置交换机吧！   ####

先对信息楼（教学区域，教学楼同理）的交换机进行配置。  

信息楼原则上每层一个交换机，每个教室又有一个交换机，各自组成一个vlan，同一层所有教室的交换机连接到一个单独交换机上，然后每一层的交换机连接到信息楼单独的交换机上，由这个信息楼的交换机连接学校其他网络。

信息楼拓扑如图所示:  

![avatar](/信息楼拓扑.jpg)  


#### 现在配置每一间教室的交换机 ####
拓扑结构如图所示:  

![avatar](/教室拓扑.jpg)  
  
ps:下面所说的IP地址都是私有ip地址  
设置每间教室的交换机的管理地址（即vlan1的ip地址）为:(整个信息楼少于255间教室)    
10.1.1.200/24  
10.1.2.200/24  
10.1.3.200/24  
..........  
10.1.N.200/24  


设置每个教室内PC的ip地址为:(一间教室少于255台电脑，当电脑数量超过交换机端口数时，采用的策略是将几台交换机连在一起，或者使用集线器)  
10.1.[教室号].1/24    
10.1.[教室号].2/24  
10.1.[教室号].3/24  
...........  
10.1.[教室号].N/24
  
这样就人为的使用IP地址和VLAN划分了广播域（每个教室的网络号），使得大的网络划分为了一个个小的网络，当进行广播发送数据包时，不会向所有电脑发送，导致网络的传输效率上升了。

教室交换机配置如图：  

![avatar](/教室交换机配置.jpg)  
  
#### 为交换机配置Telnet和SSH，以便管理 ####
配置Telnet和SSH如图所示:  

![avatar](/配置Telnet和SSH.jpg)  


#### 完成教学区域交换机的配置之后，配置教学区域的无线路由器 ####
使用DHCP的方式配置无线路由器的Internet Connection type，设置路由器IP为:192.168.0.1/24,客户端和AP采用WEP加密，密码为szpt，并确保教学区域所有PC都能连接无线WIFI。  
无线路由器配置如图:

![avatar](/无线路由器配置1.jpg)


![avatar](/无线路由器配置2.jpg)


#### 核心交换机的配置 ####
核心交换机连接教学区域，信息楼，无线路由器，还有连接外网（中国电信，教育科研网）的路由器，总体来说就是将这几个区域分别划分VLAN，基本配置跟教室的路由器一样，这里不做详细配置。


#### 下面为各个服务器进行配置！ ####
服务器使用Ubuntu系统（天生的网络操作系统，比Windows易操作，且安装轻便快捷，当然，最大的特点就是免费了！）
#### 为WWW服务器配置WEB服务 ####
下面为WWW服务器配置WEB服务。  

第一步:为服务器安装ubuntu系统  
第二步：在Ubuntu下安装apache2（使用sudo apt-get install apache2命令）  
第三步：使用python、java、.net等技术制作学校官网
第四步：进入/etc/apache2下的apache2.conf配置文件配置网站的根目录
第五步：进入127.0.0.1测试网站是否正常运行

配置完成！

#### 为FTP服务器配置FTP服务 ####
在Ubuntu中，FTP服务器全名叫vstpd，需要利用该软件相关命令开启安装ftp服务器。

第一步：安装vsftpd（使用sudo apt-get install vsftpd命令）  
第二步：新建一个文件夹用于FTP的工作目录  
第三步：新建FTP用户并设置密码和工作目录（使用sudo useradd -d [ftp用户地址] -s [ftp文件地址] ftpname命令）  
第四步：修改vsftpd配置文件  
第五步：启动vsftpd服务  
第六步：在局域网内测试该FTP服务。

配置过程如图：


配置成功！

#### 为E-mail服务器配置E-mail服务 ####
第一步：安装postfix（使用sudo apt-get install postfix命令）
第二步：配置postfix
第三步：配置Postfix和Dovecot的SMTP验证（使用TLS）
第四步：安装Dovecot（使用sudo apt-get install dovecot-common命令）
第五步：配置Dovecot
第六步：安装devecot(使用sudo apt-get install dovecot-imapd dovecot-pop3d命令)
第七步：配置devcot
第八步：测试发送邮件

配置完成！

## 四、参考资料说明 ##


>《思科网络技术学院教程》　　　　[美]Wayne Lewis,Ph.D　著  
>《中小企业网络管理员实战指南》　　　　黄治国　著  
>《构建中小型企业网络》　　　　谭亮 何绍华　主编  
>配置E-mail服务器 -> https://blog.csdn.net/stwstw0123/article/details/47130293  
>配置WWW服务器 -> https://blog.csdn.net/huangweijie2013/article/details/51162318    
>配置FTP服务器 -> https://www.linuxidc.com/Linux/2016-12/138563.htm  


